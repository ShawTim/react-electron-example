(this["webpackJsonpreact-electron-example"]=this["webpackJsonpreact-electron-example"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),s=a.n(r),i=a(25),o=a(35),l=a(22),u=a(19),d=a(18),j=a(21),b=a(53),h=a(6),p=a.n(h),f=a(11),m=a(34),O=a(17),x=a(121),v=a(39),w=a.n(v),C=a(40),g=a.n(C),N=[{name:"Jaime Banks",phone:"(08) 9345 2040",email:"jbanks298@sknabemiaj.net",address:"995 Harrison Loop\nFresno, Utah 16361"},{name:"Angelina Pham",phone:"780-752-4296",email:"apham153@mahpanilegna.biz",address:"987 Buchanan Lane\nCharleston, Kansas 96551"},{name:"Bradley Norton",phone:"0131 240 0801",email:"bnorton872@notronyeldarb.net",address:"172 7th Lane\nColorado Springs, Louisiana 75953"},{name:"Ebony Montgomery",phone:"01934 623526",email:"emontgomery714@yremogtnomynobe.com",address:"768 McKinley Alley\nNorfolk, Wyoming 99290"},{name:"Jordan Moreno",phone:"(814) 542-4414",email:"jmoreno470@oneromnadroj.com",address:"161 Pecan Loop\nPasadena, Minnesota 65295"}],k="./contacts.data",y=function(e,t){return w.a.AES.encrypt(e,t).toString()},S=function(e,t){return w.a.AES.decrypt(e,t).toString(w.a.enc.Utf8)},L=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g()()){e.next=14;break}return e.prev=1,t=window.require("fs/promises"),e.next=5,t.open(k,"r+");case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),"ENOENT"!==e.t0.code&&console.error(e.t0),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 14:return e.abrupt("return",!!sessionStorage.getItem("contacts"));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,c,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g()()){e.next=11;break}return a=window.require("fs/promises"),e.next=5,a.readFile(k);case 5:return n=e.sent,c=n.toString("utf8"),r=S(c,t),e.abrupt("return",JSON.parse(r));case 11:return s=sessionStorage.getItem("contacts")||"",i=S(s,t),e.abrupt("return",JSON.parse(i));case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!g()()){e.next=8;break}return n=window.require("fs/promises"),c=y(JSON.stringify(t),a),e.next=6,n.writeFile(k,c);case 6:e.next=9;break;case 8:sessionStorage.setItem("contacts",y(JSON.stringify(t),a));case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),t&&console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,c,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(a);case 3:if(n=e.sent,c=t,!((r=n.findIndex((function(e){var t;return e.id===(null!==(t=c.id)&&void 0!==t?t:"")})))>=0&&c.id)){e.next=13;break}return n[r]=c,e.next=10,E(n,a);case 10:return e.abrupt("return",c);case 13:return s=Object(O.a)(Object(O.a)({},t),{},{id:Object(x.a)()}),i=n.concat(s),e.next=17,E(i,a);case 17:return e.abrupt("return",s);case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(0),a&&console.error(e.t0),e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(p.a.mark((function e(t,a){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(a);case 3:return n=e.sent,c=n.filter((function(e){return e.id!==t.id})),e.next=7,E(c,a);case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),a&&console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),J=Object(d.b)("contact/get",function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.secret,e.prev=1,e.next=4,F(a);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),B=Object(d.b)("contact/save",function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contact,n=t.secret,e.prev=1,e.next=4,I(a,n);case 4:return c=e.sent,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),M=Object(d.b)("contact/delete",function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.contact,n=t.secret,e.prev=1,e.next=4,A(a,n);case 4:return e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),W=Object(d.c)({name:"contact",initialState:{contacts:{}},reducers:{},extraReducers:function(e){return e.addCase(J.fulfilled,(function(e,t){var a=t.payload;e.contacts=a.reduce((function(e,t){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},t.id,t))}),{})})).addCase(B.fulfilled,(function(e,t){var a=t.payload;e.contacts[a.id]=a})).addCase(M.fulfilled,(function(e,t){var a=t.payload;delete e.contacts[a.id]}))}}).reducer,z=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(N.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{id:Object(x.a)()})})),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),D={hasInit:!1,hasLogin:!1,initFailed:!1,loginFailed:!1,dataCorrupted:!1,secret:""},R=Object(d.b)("system/checkDatabase",Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),K=Object(d.b)("system/initDatabase",function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(d.b)("system/login",function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),V=Object(d.c)({name:"system",initialState:D,reducers:{logout:function(){return D}},extraReducers:function(e){return e.addCase(R.fulfilled,(function(e,t){e.hasInit=t.payload})).addCase(K.fulfilled,(function(e,t){e.hasInit=!0,e.hasLogin=!0,e.secret=t.meta.arg})).addCase(U.fulfilled,(function(e,t){var a=t.payload;e.hasLogin=a,e.initFailed=!1,e.loginFailed=!a,e.dataCorrupted=!1,a&&(e.secret=t.meta.arg)})).addCase(K.rejected,(function(e,t){e.hasInit=!1,e.initFailed=!0})).addCase(J.rejected,(function(e,t){e.dataCorrupted=!!t.meta.arg.secret,e.hasLogin=!1})).addCase(B.rejected,(function(e,t){e.dataCorrupted=!!t.meta.arg.secret,e.hasLogin=!1})).addCase(M.rejected,(function(e,t){e.dataCorrupted=!!t.meta.arg.secret,e.hasLogin=!1}))}}),G=(V.actions.logout,V.reducer),H=Object(j.a)({basename:"/react-electron-example"}),$=Object(u.b)({router:Object(o.b)(H),system:G,contact:W}),Q=Object(d.a)({reducer:$,middleware:function(e){return e().concat(Object(b.a)(H))}}),X=a(13),Y=a(116),Z=a(115),_=a(59),ee=function(){return Object(i.d)()},te=i.e,ae=a(120),ne=a(60),ce=a(57),re=a(114),se=a(119),ie=a(1),oe=function(e,t){if(e.toLowerCase().includes(t.toLowerCase())){var a=new RegExp(t,"ig"),n=e.split(a),r=e.match(a);return n.map((function(e,t){var a,n=t>0?Object(ie.jsx)("mark",{className:"p-0",children:null!==(a=null===r||void 0===r?void 0:r[t-1])&&void 0!==a?a:""}):"";return Object(ie.jsxs)(c.a.Fragment,{children:[n,e]},"token-".concat(e,"-").concat(t))}))}return e},le=function(e){var t=e.contacts,a=e.onSelect,c=e.onCreate,r=Object(n.useState)(""),s=Object(X.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(t),u=Object(X.a)(l,2),d=u[0],j=u[1],b=Object(n.useCallback)((function(e){return o(e.target.value)}),[]),h=Object(n.useCallback)((function(){return c()}),[c]);return Object(n.useEffect)((function(){j(i?t.filter((function(e){var t=i.toLowerCase();return e.name.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.address.toLowerCase().includes(t)})):t)}),[i,t]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("nav",{className:"d-flex justify-content-end border-bottom",children:[Object(ie.jsxs)(ae.a.Group,{className:"w-100 d-flex align-items-center",children:[Object(ie.jsx)(ne.a,{as:"i",className:"position-absolute bi bi-search ms-2"}),Object(ie.jsx)(ce.a,{className:"border-0 ps-4",type:"search",value:i,onChange:b,title:"Search Contacts","aria-label":"Search Contacts"})]}),Object(ie.jsx)(re.a,{variant:"light",title:"Add New Contact","aria-label":"Add New Contact",onClick:h,children:Object(ie.jsx)("i",{className:"bi bi-plus-lg"})})]}),d.length?Object(ie.jsx)(se.a,{className:"data-list mb-3",children:d.map((function(e){return Object(ie.jsxs)(se.a.Item,{className:"d-flex text-truncate border-0 border-bottom",action:!0,onClick:function(){return a(e.id)},children:[Object(ie.jsx)(ne.a,{as:"i",className:"bi bi-person-circle me-2"}),Object(ie.jsx)(ne.a,{as:"label",className:"text-dark me-2",children:oe(e.name,i)}),Object(ie.jsx)(ne.a,{className:"ms-auto text-truncate",children:Object(ie.jsx)("small",{children:oe(e.phone,i)})})]},e.id)}))}):Object(ie.jsx)("div",{className:"h-75 d-flex justify-content-center align-items-center",children:i?"No Matched Contacts.":"No Contacts."})]})};le.defaultProps={contacts:[],onSelect:function(){},onCreate:function(){}};var ue=le,de=a(56),je=a(58),be=a(61),he=function(e){var t,a,c,r,s=e.contact,i=e.edit,o=e.onSave,l=e.onClose,u=Object(n.useState)(i),d=Object(X.a)(u,2),j=d[0],b=d[1],h=Object(n.useState)(null!==(t=null===s||void 0===s?void 0:s.name)&&void 0!==t?t:""),p=Object(X.a)(h,2),f=p[0],m=p[1],O=Object(n.useState)(null!==(a=null===s||void 0===s?void 0:s.phone)&&void 0!==a?a:""),x=Object(X.a)(O,2),v=x[0],w=x[1],C=Object(n.useState)(null!==(c=null===s||void 0===s?void 0:s.email)&&void 0!==c?c:""),g=Object(X.a)(C,2),N=g[0],k=g[1],y=Object(n.useState)(null!==(r=null===s||void 0===s?void 0:s.address)&&void 0!==r?r:""),S=Object(X.a)(y,2),L=S[0],P=S[1],E=Object(n.useState)(!0),F=Object(X.a)(E,2),I=F[0],A=F[1];Object(n.useEffect)((function(){var e,t,a,n;b(!1),m(null!==(e=null===s||void 0===s?void 0:s.name)&&void 0!==e?e:""),w(null!==(t=null===s||void 0===s?void 0:s.phone)&&void 0!==t?t:""),k(null!==(a=null===s||void 0===s?void 0:s.email)&&void 0!==a?a:""),P(null!==(n=null===s||void 0===s?void 0:s.address)&&void 0!==n?n:"")}),[s]),Object(n.useEffect)((function(){return b(i)}),[i]),Object(n.useEffect)((function(){return A(!N||be.validate(N))}),[N]);var J=Object(n.useCallback)((function(){return b(!0)}),[]),B=Object(n.useCallback)((function(){return l()}),[l]),M=Object(n.useCallback)((function(){f&&v&&N&&L&&I&&(o({id:null===s||void 0===s?void 0:s.id,name:f,phone:v,email:N,address:L}),b(!1))}),[s,f,v,N,L,I,o]),W=Object(n.useCallback)((function(){return i?l():b(!1)}),[i,l]),z=Object(n.useCallback)((function(e){return m(e.target.value)}),[]),T=Object(n.useCallback)((function(e){return w(e.target.value)}),[]),q=Object(n.useCallback)((function(e){return k(e.target.value)}),[]),D=Object(n.useCallback)((function(e){return P(e.target.value)}),[]);return s||i?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("nav",{className:"d-flex justify-content-end border-bottom",children:[!j&&Object(ie.jsx)(re.a,{variant:"light",title:"Edit this Contact","aria-label":"Edit this Contact",onClick:J,children:Object(ie.jsx)("i",{className:"bi bi-pencil-fill"})}),Object(ie.jsx)(re.a,{variant:"light",title:"Close this Contact","aria-label":"Close this Contact",onClick:B,children:Object(ie.jsx)("i",{className:"bi bi-x-lg"})})]}),j?Object(ie.jsxs)("div",{className:"d-flex flex-column p-5",children:[Object(ie.jsx)("h1",{className:"align-self-center display-1",children:Object(ie.jsx)("i",{className:"bi bi-person-circle"})}),Object(ie.jsxs)(ae.a,{className:"m-3",children:[Object(ie.jsxs)(de.a,{as:Z.a,className:"mt-1",children:[Object(ie.jsxs)(je.a,{column:!0,xs:3,className:"text-nowrap",children:[Object(ie.jsx)("i",{className:"bi bi-person me-2"}),"Name"]}),Object(ie.jsx)(_.a,{xs:9,children:Object(ie.jsx)(ce.a,{type:"text",placeholder:"Name",value:f,onChange:z})})]}),Object(ie.jsxs)(de.a,{as:Z.a,className:"mt-1",children:[Object(ie.jsxs)(je.a,{column:!0,xs:3,className:"text-nowrap",children:[Object(ie.jsx)("i",{className:"bi bi-telephone me-2"}),"Phone"]}),Object(ie.jsx)(_.a,{xs:9,children:Object(ie.jsx)(ce.a,{type:"tel",placeholder:"Phone",value:v,onChange:T})})]}),Object(ie.jsxs)(de.a,{as:Z.a,className:"mt-1",children:[Object(ie.jsxs)(je.a,{column:!0,xs:3,className:"text-nowrap",children:[Object(ie.jsx)("i",{className:"bi bi-envelope me-2"}),"Email"]}),Object(ie.jsxs)(_.a,{xs:9,children:[Object(ie.jsx)(ce.a,{type:"email",placeholder:"Email",value:N,isInvalid:!I,onChange:q}),Object(ie.jsx)(ce.a.Feedback,{type:"invalid",children:"Not a valid email."})]})]}),Object(ie.jsxs)(de.a,{as:Z.a,className:"mt-1",children:[Object(ie.jsxs)(je.a,{column:!0,xs:3,className:"text-nowrap",children:[Object(ie.jsx)("i",{className:"bi bi-house me-2"}),"Address"]}),Object(ie.jsx)(_.a,{xs:9,children:Object(ie.jsx)(ce.a,{as:"textarea",rows:5,placeholder:"Address",value:L,onChange:D})})]}),Object(ie.jsxs)(de.a,{className:"d-flex justify-content-end mt-1",children:[Object(ie.jsx)(re.a,{variant:"primary",className:"m-1",title:"Save this Contact",disabled:!(f&&v&&N&&L&&I),"aria-label":"Save this Contact",onClick:M,children:"Save"}),Object(ie.jsx)(re.a,{variant:"light",className:"m-1",title:"Back to View","aria-label":"Back to View",onClick:W,children:"Cancel"})]})]})]}):Object(ie.jsxs)("div",{className:"d-flex flex-column p-5",children:[Object(ie.jsx)("h1",{className:"align-self-center display-1",children:Object(ie.jsx)("i",{className:"bi bi-person-circle"})}),Object(ie.jsx)("h1",{className:"align-self-center",children:f}),Object(ie.jsxs)("address",{className:"m-3",children:[Object(ie.jsxs)("div",{title:"Phone",children:[Object(ie.jsx)("i",{className:"bi bi-telephone me-2"}),Object(ie.jsx)("span",{children:v})]}),Object(ie.jsxs)("div",{title:"Email",children:[Object(ie.jsx)("i",{className:"bi bi-envelope me-2"}),Object(ie.jsx)("span",{children:N})]}),Object(ie.jsxs)("div",{className:"d-flex",title:"Address",children:[Object(ie.jsx)("i",{className:"bi bi-house me-2"}),Object(ie.jsx)("span",{children:L.split("\n").map((function(e,t){return Object(ie.jsx)("div",{children:e},"line-".concat(e,"-").concat(t))}))})]})]})]})]}):null};he.defaultProps={contact:null,edit:!1,onSave:function(){},onClose:function(){}};var pe=he,fe=function(){var e,t=ee(),a=Object(l.f)(),c=Object(l.g)().id,r=Object(n.useState)([]),s=Object(X.a)(r,2),i=s[0],o=s[1],u=te((function(e){return e.system})),d=u.hasInit,j=u.hasLogin,b=u.secret,h=a.location.pathname.startsWith("/contacts/create"),p=te((function(e){return e.contact.contacts})),f=h?null:null!==(e=p[c])&&void 0!==e?e:null;Object(n.useEffect)((function(){t(J({secret:b}))}),[b,t]),Object(n.useEffect)((function(){o(Object.values(p).sort((function(e,t){return e.name.localeCompare(t.name)})))}),[p]);var m=Object(n.useCallback)((function(e){return a.push("/contacts/view/".concat(e))}),[a]),O=Object(n.useCallback)((function(){return a.push("/contacts")}),[a]),x=Object(n.useCallback)((function(){return a.push("/contacts/create")}),[a]),v=Object(n.useCallback)((function(e){t(B({contact:e,secret:b})),a.push("/contacts")}),[b,a,t]);return d?j?Object(ie.jsx)(Y.a,{fluid:!0,className:"h-100 border rounded",children:Object(ie.jsxs)(Z.a,{className:"h-100",children:[Object(ie.jsx)(_.a,{xs:4,className:"h-100 p-0 border-end overflow-auto",children:Object(ie.jsx)(ue,{contacts:i,onSelect:m,onCreate:x})}),Object(ie.jsx)(_.a,{xs:8,className:"h-100 p-0",children:Object(ie.jsx)(pe,{contact:f,edit:h,onClose:O,onSave:v})})]})}):Object(ie.jsx)(l.a,{to:"/login"}):Object(ie.jsx)(l.a,{to:"/"})},me=a(118),Oe=a(117),xe=function(){var e=ee(),t=te((function(e){return e.system})),a=t.hasInit,c=t.hasLogin,r=t.loginFailed,s=t.dataCorrupted,i=Object(n.useState)(""),o=Object(X.a)(i,2),u=o[0],d=o[1],j=Object(n.useCallback)((function(e){return d(e.target.value)}),[]),b=Object(n.useCallback)((function(){return e(U(u))}),[u,e]),h=Object(n.useCallback)((function(){return window.close()}),[]);return a?c?Object(ie.jsx)(l.a,{to:"/contacts"}):Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(Z.a,{children:Object(ie.jsx)(_.a,{className:"text-center m-2",children:Object(ie.jsx)("h3",{children:"Welcome to Simple Secure Contact Manager"})})}),Object(ie.jsx)(Z.a,{children:Object(ie.jsx)(_.a,{className:"text-center m-3",children:Object(ie.jsx)("h5",{children:"Please enter the password for your contact data file."})})}),Object(ie.jsx)(Z.a,{className:"justify-content-center",children:Object(ie.jsxs)(_.a,{xs:12,sm:8,md:6,children:[Object(ie.jsxs)(me.a,{show:!!r||!!s,variant:"danger",children:[!!r&&"Password mismatch. Failed to open the application.",!!s&&"Data Corrupted. Failed to access the data by given password."]}),Object(ie.jsxs)(Oe.a,{className:"mb-3",children:[Object(ie.jsx)(Oe.a.Prepend,{children:Object(ie.jsx)(Oe.a.Text,{id:"password-desc",children:Object(ie.jsx)("i",{className:"bi bi-key-fill"})})}),Object(ie.jsx)(ce.a,{id:"password",type:"password",value:u,placeholder:"Password","aria-label":"Password","aria-describedby":"password-desc",onChange:j})]})]})}),Object(ie.jsx)(Z.a,{children:Object(ie.jsxs)(_.a,{className:"d-flex justify-content-center",children:[Object(ie.jsx)(re.a,{className:"m-2",variant:"primary",onClick:b,children:"Open the App"}),Object(ie.jsx)(re.a,{className:"m-2",variant:"light",onClick:h,children:"Close"})]})})]}):Object(ie.jsx)(l.a,{to:"/"})},ve=function(){var e=ee(),t=te((function(e){return e.system})),a=t.hasInit,c=t.hasLogin,r=t.initFailed,s=Object(n.useState)(""),i=Object(X.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(""),j=Object(X.a)(d,2),b=j[0],h=j[1],p=Object(n.useCallback)((function(e){return u(e.target.value)}),[]),f=Object(n.useCallback)((function(e){return h(e.target.value)}),[]),m=Object(n.useCallback)((function(){o&&o===b&&e(K(o))}),[o,b,e]),O=Object(n.useCallback)((function(){return window.close()}),[]);return c?Object(ie.jsx)(l.a,{to:"/contacts"}):a?Object(ie.jsx)(l.a,{to:"/login"}):Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(Z.a,{children:Object(ie.jsx)(_.a,{className:"text-center m-2",children:Object(ie.jsx)("h3",{children:"Initialization Wizard"})})}),Object(ie.jsx)(Z.a,{children:Object(ie.jsx)(_.a,{className:"text-center m-3",children:Object(ie.jsx)("h5",{children:"Please setup a password for the Simple Secure Contact Manager."})})}),Object(ie.jsx)(Z.a,{className:"justify-content-center",children:Object(ie.jsxs)(_.a,{xs:12,sm:8,md:6,children:[Object(ie.jsx)(me.a,{show:!!r,variant:"danger",children:"Setup failed. Cannot initialize the data file (check permission?)."}),Object(ie.jsxs)(Oe.a,{className:"mb-3",children:[Object(ie.jsx)(Oe.a.Prepend,{children:Object(ie.jsx)(Oe.a.Text,{id:"password-desc",children:Object(ie.jsx)("i",{className:"bi bi-key-fill"})})}),Object(ie.jsx)(ce.a,{id:"password",type:"password",value:o,placeholder:"Password","aria-label":"Password","aria-describedby":"password-desc",onChange:p})]})]})}),Object(ie.jsx)(Z.a,{className:"justify-content-center",children:Object(ie.jsx)(_.a,{xs:12,sm:8,md:6,children:Object(ie.jsxs)(Oe.a,{className:"mb-3",children:[Object(ie.jsx)(Oe.a.Prepend,{children:Object(ie.jsx)(Oe.a.Text,{id:"confirm-password-desc",children:Object(ie.jsx)("i",{className:"bi bi-key-fill"})})}),Object(ie.jsx)(ce.a,{id:"confirm-password",type:"password",value:b,isInvalid:!!b&&o!==b,placeholder:"Confirm Password","aria-label":"Confirm Password","aria-describedby":"confirm-password-desc",onChange:f}),Object(ie.jsx)(ce.a.Feedback,{type:"invalid",children:"Password not match."})]})})}),Object(ie.jsx)(Z.a,{children:Object(ie.jsxs)(_.a,{className:"d-flex justify-content-center",children:[Object(ie.jsx)(re.a,{className:"m-2",variant:"primary",onClick:m,disabled:!o||o!==b,children:"Setup"}),Object(ie.jsx)(re.a,{className:"m-2",variant:"light",onClick:O,children:"Close"})]})})]})},we=(a(107),function(){var e=ee();return Object(n.useEffect)((function(){e(R())}),[e]),Object(ie.jsx)(o.a,{history:H,children:Object(ie.jsxs)(l.d,{children:[Object(ie.jsx)(l.b,{path:["/contacts/view/:id","/contacts/create","/contacts"],render:function(){return Object(ie.jsx)(fe,{})}}),Object(ie.jsx)(l.b,{path:"/login",render:function(){return Object(ie.jsx)(xe,{})}}),Object(ie.jsx)(l.b,{path:"/",render:function(){return Object(ie.jsx)(ve,{})}})]})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(108),a(109),a(110),a(111);s.a.render(Object(ie.jsx)(i.a,{store:Q,children:Object(ie.jsx)(we,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t){}},[[112,1,2]]]);
//# sourceMappingURL=main.92a34a93.chunk.js.map